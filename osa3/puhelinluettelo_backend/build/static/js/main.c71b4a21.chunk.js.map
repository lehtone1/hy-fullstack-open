{"version":3,"sources":["components/Filter.jsx","services/persons.js","components/Person.jsx","components/PersonForm.jsx","components/Notification.jsx","components/ErrorMessage.jsx","App.js","index.js"],"names":["Filter","nameFilter","setNameFlter","value","onChange","event","target","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Person","person","persons","setPersons","setMessage","message","setErrorMessage","errorMessage","name","number","onClick","personService","newPersons","filter","newMessage","setTimeout","catch","error","deletePerson","PersonForm","newName","setNewName","newNumber","setNewNumber","names","map","clearInputs","showNotification","onSubmit","preventDefault","includes","find","p","updatedPerson","returnedPerson","updateNumber","createdPerson","concat","type","Notification","className","ErrorMessage","App","useState","filteredPersons","useEffect","personServce","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c71b4a21.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({nameFilter, setNameFlter}) => {\n  const handleFilterChange = (event) => {\n    setNameFlter(event.target.value);\n  };\n\n  return (\n    <p>flter shown with<input value={nameFilter} onChange={handleFilterChange}/></p>\n  )\n  \n}\n\nexport default Filter;","import axios from 'axios';\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n  return axios\n      .get(baseUrl)\n      .then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  return axios\n    .post(baseUrl, newObject)\n    .then((response) => response.data)\n}\n\nconst remove = (id) => {\n  return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then((response) => response.data)\n}\n\nexport default {getAll, create, remove, update};\n","import React, { useState } from 'react';\nimport personService from '../services/persons'\n\nconst Person = ({person, persons, setPersons, message, setMessage, errorMessage, setErrorMessage}) => {\n  const {name, number} = person;\n  const deletePerson = (person) => {\n      const {name, id} = person;\n      personService.remove(id)\n        .then(() => {\n          const newPersons = persons.filter((person) => person.id !== id)\n          const newMessage = `${name} deleted`\n          setPersons(newPersons)\n          setMessage(newMessage)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          const newMessage = `${name} was already removed from server`;\n          setErrorMessage(newMessage);\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n  }\n  return (\n    <p>{name} {number} <button onClick={() => deletePerson(person)}>Delete</button></p>\n  ) \n}\n\nexport default Person;\n","import React from 'react';\nimport personService from '../services/persons'\n\nconst PersonForm = ({newName, setNewName, newNumber, setNewNumber, persons, setPersons, message, setMessage, errorMessage, setErrorMessage}) => {\n  const names = persons.map((person) => person.name);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const updateNumber = () => {\n    const person = persons.find(p => p.name === newName);\n    const updatedPerson = {...person, number:newNumber};\n    personService.update(updatedPerson.id, updatedPerson)\n      .then((returnedPerson) => {\n        setPersons(persons.map(person => person.id === returnedPerson.id ? returnedPerson : person ))\n      })\n      .catch((error) => {\n        const newMessage = `${person.name} was already removed from server`;\n        setErrorMessage(newMessage);\n      })\n  }\n\n  const clearInputs = () => {\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const showNotification = (newMessage) => {\n    setMessage(newMessage)\n    setTimeout(() => {\n      setMessage(null)\n    },5000)\n  }\n\n  const addPersonToSrver = () => {\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    personService.create(newPerson)\n      .then((createdPerson) => \n        setPersons(persons.concat(createdPerson))\n      )\n  }\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n    if(names.includes(newName)) {\n      const newMessage = `${newName} already exists in the phonebook, number updated into new one`;\n      updateNumber()\n      clearInputs()\n      showNotification(newMessage)\n    } else {\n      const newMessage = `${newName} added`\n      addPersonToSrver();\n      clearInputs();\n      showNotification(newMessage);\n    }\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Notification = ({message}) => {\n  \n  if(message) {\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    );\n  }\n\n  return null\n  \n};\n\nexport default Notification;","import React from 'react';\n\nconst ErrorMessage = ({errorMessage}) => {\n\n  if (errorMessage) {\n    return (\n      <div className=\"error\">\n        {errorMessage}\n      </div>\n    );\n  }\n\n  return null;\n  \n};\n\nexport default ErrorMessage;","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter';\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport personServce from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ nameFilter, setNameFlter ] = useState('');\n  const [ message, setMessage ] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const filteredPersons = persons.filter((person) => person.name.includes(nameFilter))\n\n  useEffect(() => {\n    personServce.getAll()\n      .then((persons) => {\n        setPersons(persons)\n      })\n  }, [])\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorMessage errorMessage={errorMessage} />\n      <Filter nameFilter={nameFilter} setNameFlter={setNameFlter}/>\n      <h3>Add New Person</h3>\n      <PersonForm \n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        persons={persons}\n        setPersons={setPersons}\n        message={message}\n        setMessage={setMessage}\n      />\n      <h3>Numbers</h3>\n      {filteredPersons.map((person) => \n        <Person \n        key={person.id}\n        person={person}\n        persons={persons}\n        setPersons={setPersons}\n        message={message}\n        setMessage={setMessage}\n        errorMessage={errorMessage}\n        setErrorMessage={setErrorMessage}\n        />\n      )}\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}