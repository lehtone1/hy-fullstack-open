{"version":3,"sources":["components/Filter.jsx","services/persons.js","components/Person.jsx","components/PersonForm.jsx","components/Notification.jsx","components/ErrorMessage.jsx","App.js","index.js"],"names":["Filter","nameFilter","setNameFlter","value","onChange","event","target","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Person","person","persons","setPersons","setMessage","message","setErrorMessage","errorMessage","name","number","onClick","personService","newPersons","filter","newMessage","setTimeout","catch","error","deletePerson","PersonForm","newName","setNewName","newNumber","setNewNumber","names","map","clearInputs","showNotification","addPersonToSrver","createdPerson","console","log","concat","showErrorMessage","onSubmit","preventDefault","includes","find","p","updatedPerson","returnedPerson","updateNumber","type","Notification","className","ErrorMessage","App","useState","filteredPersons","useEffect","personServce","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.060d3520.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({nameFilter, setNameFlter}) => {\n  const handleFilterChange = (event) => {\n    setNameFlter(event.target.value);\n  };\n\n  return (\n    <p>flter shown with<input value={nameFilter} onChange={handleFilterChange}/></p>\n  )\n  \n}\n\nexport default Filter;","import axios from 'axios';\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n  return axios\n      .get(baseUrl)\n      .then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  return axios\n    .post(baseUrl, newObject)\n    .then((response) => response.data)\n}\n\nconst remove = (id) => {\n  return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then((response) => response.data)\n}\n\nexport default {getAll, create, remove, update};\n","import React, { useState } from 'react';\nimport personService from '../services/persons'\n\nconst Person = ({person, persons, setPersons, message, setMessage, errorMessage, setErrorMessage}) => {\n  const {name, number} = person;\n  const deletePerson = (person) => {\n      const {name, id} = person;\n      personService.remove(id)\n        .then(() => {\n          const newPersons = persons.filter((person) => person.id !== id)\n          const newMessage = `${name} deleted`\n          setPersons(newPersons)\n          setMessage(newMessage)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          const newMessage = `${name} was already removed from server`;\n          setErrorMessage(newMessage);\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n  }\n  return (\n    <p>{name} {number} <button onClick={() => deletePerson(person)}>Delete</button></p>\n  ) \n}\n\nexport default Person;\n","import React from 'react';\nimport personService from '../services/persons'\n\nconst PersonForm = ({newName, setNewName, newNumber, setNewNumber, persons, setPersons, message, setMessage, errorMessage, setErrorMessage}) => {\n  const names = persons.map((person) => person.name);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const updateNumber = () => {\n    const person = persons.find(p => p.name === newName);\n    const updatedPerson = {...person, number:newNumber};\n    personService.update(updatedPerson.id, updatedPerson)\n      .then((returnedPerson) => {\n        setPersons(persons.map(person => person.id === returnedPerson.id ? returnedPerson : person ))\n      })\n      .catch((error) => {\n        const newMessage = `${person.name} was already removed from server`;\n        setErrorMessage(newMessage);\n      })\n  }\n\n  const clearInputs = () => {\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const showNotification = (newMessage) => {\n    setMessage(newMessage)\n    setTimeout(() => {\n      setMessage(null)\n    },5000)\n  }\n\n  const showErrorMessage = (newMessage) => {\n    setErrorMessage(newMessage)\n    setTimeout(() => {\n      setErrorMessage(null)\n    },5000)\n  }\n\n  const addPersonToSrver = () => {\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    personService.create(newPerson)\n      .then((createdPerson) => {\n        console.log(createdPerson)\n        setPersons(persons.concat(createdPerson))\n        const newMessage = `${newName} added`;\n        showNotification(newMessage);\n      })\n      .catch(error => {\n        const newMessage = `${error.response.data.error}`\n        showErrorMessage(newMessage)\n      })\n  }\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n    if(names.includes(newName)) {\n      const newMessage = `${newName} already exists in the phonebook, number updated into new one`;\n      updateNumber()\n      clearInputs()\n      showNotification(newMessage)\n    } else {\n      addPersonToSrver();\n      clearInputs();\n      \n    }\n  }\n\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Notification = ({message}) => {\n  \n  if(message) {\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    );\n  }\n\n  return null\n  \n};\n\nexport default Notification;","import React from 'react';\n\nconst ErrorMessage = ({errorMessage}) => {\n\n  if (errorMessage) {\n    return (\n      <div className=\"error\">\n        {errorMessage}\n      </div>\n    );\n  }\n\n  return null;\n  \n};\n\nexport default ErrorMessage;","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter';\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport personServce from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ nameFilter, setNameFlter ] = useState('');\n  const [ message, setMessage ] = useState('');\n  const [ errorMessage, setErrorMessage ] = useState('');\n  const filteredPersons = persons? persons.filter((person) => person.name.includes(nameFilter)): []\n\n  useEffect(() => {\n    personServce.getAll()\n      .then((persons) => {\n        setPersons(persons)\n      })\n  }, [])\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorMessage errorMessage={errorMessage} />\n      <Filter nameFilter={nameFilter} setNameFlter={setNameFlter}/>\n      <h3>Add New Person</h3>\n      <PersonForm \n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        persons={persons}\n        setPersons={setPersons}\n        message={message}\n        setMessage={setMessage}\n        errorMessage={errorMessage}\n        setErrorMessage={setErrorMessage}\n      />\n      <h3>Numbers</h3>\n      {filteredPersons.map((person) => \n        <Person \n        key={person.id}\n        person={person}\n        persons={persons}\n        setPersons={setPersons}\n        message={message}\n        setMessage={setMessage}\n        errorMessage={errorMessage}\n        setErrorMessage={setErrorMessage}\n        />\n      )}\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}